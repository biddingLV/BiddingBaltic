<div class="modal-header auction-add__header">
  <h3 class="modal-title pull-left">New Auction</h3>
  <button type="button" class="close pull-right" aria-label="Close" (click)="bsModalRef.hide()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="modal-body auction-add__body">
  <form [formGroup]="auctionAddForm" *ngIf="true">
    <div class="form-row">
      <div class="form-group col-6">
        <label class="required" for="auctionName">Nosaukums:</label>
        <input type="text" formControlName="auctionName" class="form-control" id="auctionName" name="auctionName"
          [ngClass]="{ 'is-invalid': submitted && f.auctionName.errors }" />
        <!-- <div *ngIf="submitted && formErrors.auctionName" class="invalid-feedback">
          {{formErrors.auctionName}}
        </div> -->
      </div>

      <div class="form-group col-6">
        <label for="auctionStartingPrice" class="required">Sākumcena:</label>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">€</span>
          </div>
          <input type="number" class="form-control currency-input" formControlName="auctionStartingPrice"
            id="auctionStartingPrice" name="auctionStartingPrice"
            [ngClass]="{ 'is-invalid': submitted && f.auctionName.errors }">
          <!-- <div *ngIf="submitted && formErrors.auctionName" class="invalid-feedback">
          {{formErrors.auctionName}}
        </div> -->
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-6">
        <label class="required" for="auctionTopCategory">Top-category:</label>
        <ng-select #auctionTopCategorySelect formControlName="auctionTopCategory" [clearable]="false"
          [virtualScroll]="true" [multiple]="true" [closeOnSelect]="false" placeholder="Select top-category"
          (change)="onTopCategoryChange($event)">
          <ng-option *ngFor="let cat of filters.topCategories; let i = index" [value]="cat.categoryId">
            {{cat.categoryName}}
          </ng-option>
        </ng-select>
      </div>

      <div class="form-group col-6">
        <label class="required" for="auctionSubCategory">Sub-category:</label>
        <ng-select #auctionSubCategorySelect formControlName="auctionSubCategory" [clearable]="false"
          [virtualScroll]="true" [multiple]="true" [closeOnSelect]="false" placeholder="Select sub-category"
          (change)="onSubCategoryChange($event)">
          <ng-option *ngFor="let typ of auctionTypes; let i = index" [value]="typ.typeId">
            {{typ.typeName}}
          </ng-option>
        </ng-select>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-6">
        <label for="auctionStartDate" class="required">Izsoles sākums:</label>
        <input type="text" class="form-control" [value]="startDate" (click)="onToggleStartPicker()"
          formControlName="auctionTillDate" id="auctionStartDate" name="auctionStartDate" />
      </div>

      <div class="form-group">
        <label for="auctTill">Pieteikties var līdz:</label>
        <!-- <input type="text" class="form-control" formControlName="auctionTillDate" [value]="tillDate"
          (click)="onToggleTillPicker()" id="auctTill" name="auctTill" />-->
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-6">
        <label for="auctEnd">Izsoles noslēgums:</label>
        <!-- <input type="text" class="form-control" formControlName="auctionEndDate" [value]="endDate"
          (click)="onToggleEndPicker()" id="auctEnd" name="auctEnd" />
        <datetime-popup [value]="endDate" (valueChange)="onValueChange('beigas',$event)" [(showPopup)]="showEndPicker"
          [showDate]="showDate" [showTime]="showTime" [closeButton]="closeButton">
        </datetime-popup> -->
      </div>

      <div class="form-group col-6">
        <label for="auctDesc" class="not-required">Izsoles apraksts:</label>
        <!-- <textarea name="auctDesc" id="auctDesc" cols="15" rows="10" formControlName="auctionDescription"
          class="form-control" [ngClass]="{ 'is-invalid': submitted && f.description.errors }"></textarea>
        <div *ngIf="submitted && formErrors.auctionDescription" class="invalid-feedback">
          {{formErrors.description}}
        </div> -->
      </div>
    </div>

    <!-- <div class="form-group">
      <label class="required">Izsoles veids:</label>
      <ng-select [virtualScroll]="true" placeholder="Izvēlieties veidu">
        <ng-option *ngFor="let typ of auctionFormat; let i = index" [value]="typ.Id" required>
          {{typ.type}}
        </ng-option>
      </ng-select>
    </div> -->

    <!-- <div class="form-group">
      <label for="auctCreator" class="required">Izsoles veidotājs:</label>
      <input type="text" formControlName="auctionCreator" class="form-control"
        [ngClass]="{ 'is-invalid': submitted && f.auctionCreator.errors }" required id="auctCreator"
        name="auctCreator" />
      <div *ngIf="submitted && formErrors.auctionCreator" class="invalid-feedback">
        {{formErrors.creator}}
      </div>
    </div> -->

    <!-- <div *ngIf="this.selectedCategoryIds === 1 || this.selectedCategoryIds === 2">
      <div class="form-group itemCondition">
        <label class="required">Stāvoklis:</label>
        <ng-select [virtualScroll]="true" placeholder="Izvēlieties mantas stāvokli">
          <ng-option *ngFor="let typ of auctionItemCondition; let i = index" [value]="typ.conId" required>
            {{typ.contype}}
          </ng-option>
        </ng-select>
      </div>
    </div> -->

    <!-- <div *ngIf="this.selectedCategoryIds === 3">
      <div class="form-group propertyCondition">
        <label class="required">Īpašuma stāvoklis:</label>
        <ng-select [virtualScroll]="true" placeholder="Izvēlieties Īpašuma stāvokli">
          <ng-option *ngFor="let typ of auctionPropertyCondition; let i = index" [value]="typ.propId" required>
            {{typ.proptype}}
          </ng-option>
        </ng-select>
      </div>
    </div> -->

    <!-- <div class="form-row">
      <div class="form-group col-md-12">
        <app-file-uploader (fileUploaded)="onFileUploaded($event)" (fileRemoved)="onFileRemoved()"></app-file-uploader>
      </div>
    </div> -->

    <div class="form-row">
      <div class="form-group">
        <button class="btn btn-primary" [disabled]="false" (click)="onSubmit()">Add</button>
        <button class="btn btn-secondary" (click)="bsModalRef.hide()">Cancel</button>
      </div>
    </div>
  </form>
</div>